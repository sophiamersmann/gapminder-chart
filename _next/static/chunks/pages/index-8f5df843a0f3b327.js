(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1761)}])},1761:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return M},default:function(){return L}});var i=n(5893),r=n(9008),o=n.n(r),a=n(8776),s=n(6244),c=n(7294),l=n(9089),d=n(8837),u=n(9757),h=n(1035),x=n(918),m=n(4177);function g(e,t){return"translate(".concat(e,", ").concat(t,")")}var p=n(990),f=n.n(p);function _(e){let{xScale:t,ticks:n,majorTicks:r,y:o=0,format:a=e=>e.toString(),tickLength:s=6}=e;void 0==n&&(n=t.ticks()),void 0==r&&(r=n);let c=t.range();return(0,i.jsxs)("g",{className:[f().axis,f().axisX].join(" "),transform:g(0,o),children:[(0,i.jsx)("line",{className:f().connector,x1:c[0],x2:c[1]}),n.map(e=>(0,i.jsx)(j,{x:t(e),length:s},e)),r.map(e=>(0,i.jsx)(j,{x:t(e),length:s,renderLine:!(null==n?void 0:n.includes(e)),children:(0,i.jsx)("text",{dy:"1em",transform:g(0,s),children:a(e)})},e))]})}let j=e=>{let{x:t,length:n,renderLine:r=!0,children:o}=e;return(0,i.jsxs)("g",{className:f().tick,transform:g(t,0),children:[r&&(0,i.jsx)("line",{y2:n}),o]})};function y(e){let{yScale:t,ticks:n,tickX:r=0,tickLength:o=6,format:a=e=>e.toString()}=e;return void 0==n&&(n=t.ticks()),(0,i.jsx)("g",{className:[f().axis,f().axisY].join(" "),children:n.map(e=>(0,i.jsx)(v,{x:r,y:t(e),length:o,children:a(e)},e))})}let v=e=>{let{x:t,y:n,length:r,className:o="",children:a}=e;return(0,i.jsxs)("g",{className:[f().tick,o].join(" "),transform:g(0,n),children:[(0,i.jsx)("line",{x2:r,className:f().mute}),(0,i.jsx)("text",{x:t,dy:"0.3em",children:a})]})};function b(e){let{x:t=0,y:n=0,dx:r=0,dy:o=0,xAlign:a="left",children:s}=e;return(0,i.jsx)("text",{className:[f().label,f()[a],"text-outline"].join(" "),x:t,y:n,dx:r,dy:o,children:s})}var k=n(7645),N=n.n(k);function A(e){let{x:t,y:n,r,position:o="right",children:a}=e,s="0",c="0";return"right"===o?(t+=r,s="2px",c="0.35em"):"top"===o&&(n-=r,s="-10px"),(0,i.jsx)("text",{className:[N().annotation,"text-outline-sm"].join(" "),style:{textAnchor:"top"===o?"end":"start"},x:t,y:n,dx:s,dy:c,children:a})}let w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{ratio:t=16/9,minHeight:n=300,maxHeight:i=400}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,c.useRef)(null),o={top:e.top||0,right:e.right||0,bottom:e.bottom||0,left:e.left||0},[a,s]=(0,c.useState)(0);(0,c.useEffect)(()=>{let e=r.current,t=new ResizeObserver(e=>{if(!Array.isArray(e)||0===e.length)return;let t=e[0];s(t.contentRect.width)});return t.observe(e),()=>t.unobserve(e)},[]);let l=Math.min(Math.max(1/t*a,n),i),d={margins:o,width:a,height:l,boundedHeight:Math.max(l-o.top-o.bottom,0),boundedWidth:Math.max(a-o.left-o.right,0)};return{ref:r,dimensions:d}};var S=n(9796),E=n.n(S);function Z(e){let{data:t,highlightedCountries:n=[],year:r,domainX:o,domainY:s,domainR:p,rangeR:f,minorTicksX:j,majorTicksX:v,ticksY:k,color:N=()=>"var(--c-blue)"}=e,{ref:S,dimensions:Z}=w({bottom:20,left:20,right:60}),C=(0,h.Z)().domain(o||(0,l.Z)(t,e=>e.gdp)).range([0,Z.boundedWidth]),H=(0,x.Z)().domain(s||(0,l.Z)(t,e=>e.lifeExpectancy)).range([Z.boundedHeight,0]).nice(),X=(0,m._b)().domain(p||(0,l.Z)(t,e=>e.population)).range(f||[2,10]);r=r||(0,a.Z)(t,e=>e.year);let T=(0,c.useMemo)(()=>t.filter(e=>e.year===r).sort((e,t)=>(0,d.Z)(e.population,t.population)),[t,r]),G=(0,c.useMemo)(()=>T.filter(e=>n.includes(e.country)).sort((e,t)=>(0,u.Z)(e.population,t.population)),[T,n]);k=k||H.ticks();let M=k[k.length-1],L=e=>e.toString();return(0,i.jsx)("div",{ref:S,children:(0,i.jsx)("svg",{className:E().svg,width:Z.width,height:Z.height,children:(0,i.jsxs)("g",{transform:g(Z.margins.left,Z.margins.top),children:[(0,i.jsx)(y,{yScale:H,ticks:k,tickX:-Z.margins.left,tickLength:Z.boundedWidth,format:L}),(0,i.jsx)(_,{xScale:C,ticks:j,majorTicks:v,y:Z.boundedHeight,format:e=>"$"+e/1e3+"k"}),(0,i.jsx)("g",{children:T.map(e=>(0,i.jsx)("circle",{cx:C(e.gdp),cy:H(e.lifeExpectancy),r:X(e.population),stroke:"white",strokeWidth:"0.5",fill:N(e),fillOpacity:"0.8"},e.country))}),(0,i.jsx)(b,{x:Z.boundedWidth,y:Z.boundedHeight,dy:"-8",xAlign:"right",children:"Income per person"}),(0,i.jsxs)(b,{x:-Z.margins.left,y:H(M),dy:"0.3em",children:[L(M)," years",(0,i.jsx)("tspan",{x:-Z.margins.left,dy:"1.1em",children:"Life expectancy"})]}),G.map(e=>(0,i.jsx)(A,{x:C(e.gdp),y:H(e.lifeExpectancy),r:X(e.population),position:"China"===e.country||"India"===e.country?"top":"right",children:e.country},e.country))]})})})}var C=n(3067),H=n.n(C);function X(e){let{children:t}=e;return(0,i.jsx)("div",{className:H().legend,children:t})}function T(e){let{color:t,children:n}=e;return(0,i.jsxs)("div",{className:H().item,children:[(0,i.jsx)("span",{className:H().shape,style:{backgroundColor:t}})," ",n]})}let G=e=>{let{data:t,continents:n}=e,r=new Map(n.map(e=>[e.country,e.continent])),c=[{continent:"Africa",color:"var(--c-purple)"},{continent:"Asia",color:"var(--c-red)"},{continent:"Oceania",color:"var(--c-yellow)"},{continent:"North America",color:"var(--c-turquoise)"},{continent:"South America",color:"var(--c-green)"},{continent:"Europe",color:"var(--c-blue)"},{continent:"Antarctica",color:"var(--c-beige)"}],l=c.map(e=>e.continent),d=(0,s.Z)().domain(l).range(c.map(e=>e.color)).unknown("var(--c-black)");return(0,i.jsxs)("div",{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:"Gapminder Chart: Health and Wealth of Nations"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)("main",{children:[(0,i.jsxs)("hgroup",{style:{marginBottom:"var(--s-rem-3)"},children:[(0,i.jsx)("h1",{children:"Health and Wealth of Nations"}),(0,i.jsx)("p",{children:"Subtitle"})]}),(0,i.jsxs)("div",{style:{marginBottom:"var(--s-rem-5)",color:"var(--c-gray-500)",fontSize:"var(--font-size-sm)"},children:[(0,i.jsx)(X,{children:l.map(e=>(0,i.jsx)(T,{color:d(e),children:e},e))}),(0,i.jsx)("p",{style:{lineHeight:1,marginTop:"var(--s-rem-1)"},children:"Circles sized by population estimates"})]}),(0,i.jsx)(Z,{data:t,highlightedCountries:["China","India","Russia","United States","Equatorial Guinea","Nigeria","North Korea","Central African Republic","Qatar"],domainX:[500,2e5],domainY:[10,(0,a.Z)(t,e=>e.lifeExpectancy)],rangeR:[4,40],minorTicksX:[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,2e4,3e4,4e4,5e4,6e4,7e4,8e4,9e4,1e5],majorTicksX:[1e3,1e4,1e5],ticksY:[20,30,40,50,60,70,80,90],color:e=>d(r.get(e.country))}),(0,i.jsxs)("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--c-gray-400)",lineHeight:1,marginTop:"var(--s-rem-2)"},children:["Source:"," ",(0,i.jsx)("a",{href:"https://www.gapminder.org/",rel:"noreferrer",children:"Gapminder"})]})]})]})};var M=!0,L=G},7645:function(e){e.exports={annotation:"Annotation_annotation__8Dmvk"}},990:function(e){e.exports={axis:"Axis_axis__46Oy1",connector:"Axis_connector__HAoZw",tick:"Axis_tick__DeNe3",mute:"Axis_mute__4Pp1Q",axisX:"Axis_axisX__JyPlM",label:"Axis_label__xDFQg",left:"Axis_left__Ac7GQ",center:"Axis_center__duI3J",right:"Axis_right__Q4_aX"}},9796:function(e){e.exports={svg:"GapminderChart_svg__qaPwY"}},3067:function(e){e.exports={legend:"Legend_legend__GsTrT",item:"Legend_item__N7npL",shape:"Legend_shape__HyfGl"}}},function(e){e.O(0,[749,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);